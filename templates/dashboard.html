<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Traitor-Tracer Dashboard</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
  <div class="bg"></div>

  <div class="dashboard">

    <!-- HEADER -->
    <header class="header">
      <h1>Traitor-Tracer</h1>
      <p>Embed invisible watermarks & identify traitors</p>
    </header>

    <!-- EMBED WATERMARK -->
    <section class="card">
      <h2>Embed Watermark</h2>
      <form action="/upload" method="POST" enctype="multipart/form-data">
        <input
          type="text"
          name="user_id"
          placeholder="Enter User ID"
          required
        >

        <input
          type="file"
          name="image"
          accept="image/*"
          required
        >

        <button type="submit">Upload & Watermark</button>
      </form>
    </section>

    <!-- TRAITOR CHECKER -->
    <section class="card">
      <h2>Traitor Checker</h2>
      <form action="/trace-image" method="POST" enctype="multipart/form-data">
        <input
          type="file"
          name="image"
          accept="image/*"
          required
        >

        <button type="submit">Check Traitor</button>
      </form>

      {% if result %}
        <div class="result success">
          <p><strong>Traitor User:</strong> {{ result.user }}</p>
          <p><strong>Watermarked At:</strong> {{ result.time }}</p>
          <p><strong>Confidence:</strong> {{ result.score }}</p>
        </div>
      {% endif %}

      {% if error %}
        <div class="result error">
          {{ error }}
        </div>
      {% endif %}
    </section>

    <!-- FOOTER -->
    <footer>
      <p>Invisible Watermarking & Traitor Tracing System</p>
    </footer>

  </div>
</body>
</html>
